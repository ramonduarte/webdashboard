{% extends 'timeseries/base.html' %}

{% block timeseries_content %}
    <div class="row">
        <iframe class="col-sm-4" src='{{ bokeh_app_src }}' height="{{ bokeh_app_height }}" scrolling="no"
                marginwidth="0" marginheight="0" frameborder="0" vspace="0" hspace="0">

            {{ bokeh_html.1|safe }}
            {{ bokeh_html.0|safe }}

            <link
            href="http://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.css"
            rel="stylesheet" type="text/css">
            <link
            href="http://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.css"
            rel="stylesheet" type="text/css">

            <script src="http://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.js"></script>
            <script src="http://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.js"></script>
        </iframe>
    </div>
    <button id="add_iframe" onclick="prepareFrame();" xmlns:http="http://www.w3.org/1999/xhtml">
        + Grafico
    </button>
    <script type="text/javascript">
        // source: https://stackoverflow.com/a/8726513
        function prepareFrame() {
            var ifrm = document.getElementsByTagName('iframe')[0].cloneNode(false);
{#            ifrm.setAttribute('style', 'padding-left: 82px;');#}
            var container = document.getElementById('container');
            container.appendChild(ifrm);
        }
    </script>
{% endblock timeseries_content %}